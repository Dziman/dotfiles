// Provided/managed by AOS Helpers. Any edits may be lost in subsequent AOS Helpers updates.

/**
Enable / disable the use of Maven Local for retrieving artifacts in Gradle builds.

Usage: uncomment / comment the appropriate mavenLocal() line below.
*/

allprojects {
    buildscript {
        repositories {
            maven {
                url 'https://aos-artifactory.corp.apple.com/artifactory/ci-plugins-virtual'
            }
        }
    }

    repositories {
        // mavenLocal(); System.out.println("WARNING: Maven local is active for dependency retrieval");
        maven {
            url System.getenv('ARTIFACTORY_URL')
            credentials {
                username System.getenv('ARTIFACTORY_USR')
                password System.getenv('ARTIFACTORY_PSW')
            }
        }
    }
}


settingsEvaluated { settings ->
    settings.pluginManagement {
        repositories {
            // mavenLocal(); System.out.println("WARNING: Maven local is active for plugin retrieval");
            maven {
                url 'https://aos-artifactory.corp.apple.com/artifactory/ci-plugins-virtual'
            }
        }
    }

}
